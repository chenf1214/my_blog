(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{508:function(s,a,n){"use strict";n.r(a);var t=n(6),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"课件技术方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#课件技术方案"}},[s._v("#")]),s._v(" 课件技术方案")]),s._v(" "),n("h2",{attrs:{id:"h5-课件优势"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#h5-课件优势"}},[s._v("#")]),s._v(" H5 课件优势")]),s._v(" "),n("ol",[n("li",[s._v("呈现内容更丰富")]),s._v(" "),n("li",[s._v("更多的动作同步，现在可以同步动画、TAB 标签、脑图、部分内容滚动等")]),s._v(" "),n("li",[s._v("首页加载成功后，单页加载更快，翻页不存在白屏现象")])]),s._v(" "),n("h2",{attrs:{id:"h5-课件已知问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#h5-课件已知问题"}},[s._v("#")]),s._v(" H5 课件已知问题")]),s._v(" "),n("ol",[n("li",[s._v("同步 iframe 的内容需要按内容进行开发，工作量与内容成正比")]),s._v(" "),n("li",[s._v("公共资源包变得更大")])]),s._v(" "),n("h2",{attrs:{id:"课件端需要的接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#课件端需要的接口"}},[s._v("#")]),s._v(" 课件端需要的接口")]),s._v(" "),n("h3",{attrs:{id:"广播"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#广播"}},[s._v("#")]),s._v(" 广播")]),s._v(" "),n("h4",{attrs:{id:"sendroomitsmessage"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sendroomitsmessage"}},[s._v("#")]),s._v(" sendRoomItsMessage")]),s._v(" "),n("p",[s._v("发送消息")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("sendRoomItsMessage")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("unknown")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"handleroomitsmessage"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#handleroomitsmessage"}},[s._v("#")]),s._v(" handleRoomItsMessage")]),s._v(" "),n("p",[s._v("接收消息")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("handleRoomItsMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("unknown")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"存取数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#存取数据"}},[s._v("#")]),s._v(" 存取数据")]),s._v(" "),n("h4",{attrs:{id:"storedata"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#storedata"}},[s._v("#")]),s._v(" storeData")]),s._v(" "),n("p",[s._v("存数据")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("storeData")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("unknown")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("callback")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("success"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("boolean")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h4",{attrs:{id:"getstoredatabykey"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#getstoredatabykey"}},[s._v("#")]),s._v(" getStoreDataByKey")]),s._v(" "),n("p",[s._v("取数据")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("getStoreDataByKey")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("callback")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("unknown")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"getallstoreddata"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#getallstoreddata"}},[s._v("#")]),s._v(" getAllStoredData")]),s._v(" "),n("p",[s._v("取存储的所有数据，返回一个 object，key 为所有存储的 key，value 则对应")]),s._v(" "),n("div",{staticClass:"language-ts line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("getAllStoredData")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("callback")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("unknown")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"课件关键操作时序图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#课件关键操作时序图"}},[s._v("#")]),s._v(" 课件关键操作时序图")]),s._v(" "),n("div",{staticClass:"language-mermaid line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("sequenceDiagram\nparticipant i as 自定义iframe\nparticipant c as 课件/内容云\nparticipant p as 播放器/MccPlayer\nparticipant t as 授课/学生端\nparticipant s as pomelo/server\n\nrect rgb(255, 255, 255)\n  Note right of c: 加载\n  t->>+s: 获取断线重连消息\n  s--\x3e>-t: 发送相关状态\n  t->>p: 初始化（课件ID，课件本地URL，课件远端URL）\n  p->>+c: iframe加载课件\n  c--\x3e>-p: lodaded\nend\n\nrect rgb(255, 255, 255)\n  Note right of c: 获取目录&资源\n  p->>+c: 获取课件目录\n  c--\x3e>-p: 课件目录\n  p->>+c: 获取课件内资源信息\n  c--\x3e>-p: 返回资源信息(h5可返回空)\n  p->>+t: 检查所有资源本地是否存在\n  t--\x3e>-p: 资源本地是否存在\nend\n\nrect rgb(220, 220, 220)\n  Note right of c: 授课端逻辑\n  rect rgb(255, 255, 255)\n    t->>+p: 加页\n    p--\x3e>t: 发送目录&当前页更改\n    activate t\n    t->>t: 处理UI展示\n    deactivate t\n    p--\x3e>-t: 发送同步消息\n    t--\x3e>s: 发送同步消息\n  end\n\n  rect rgb(255, 255, 255)\n    t->>+p: 翻页\n    alt 翻到课件页\n      p->>+c: 翻页\n      c--\x3e>-p: 页面更改\n    else\n      p->>p: 处理非课件页的翻页逻辑\n    end\n    p--\x3e>t: 发送当前页更改\n    activate t\n    t->>t: 处理UI展示\n    deactivate t\n    p--\x3e>-t: 发送同步消息\n    t--\x3e>s: 发送同步消息\n  end\n\n  rect rgb(255, 255, 255)\n    t->>+p: 翻动画\n    p->>c: 翻动画\n    alt 当前可以翻动画\n      c->>p: 发送同步消息\n      p->>t: 发送同步消息\n      t->>s: 发送同步消息\n      c->>p: 存储状态\n      p->>t: 存储状态\n      t->>s: 存储状态\n    else\n      c->>p: 需要翻页\n      p->>c: 翻页\n      c--\x3e>p: 翻页完成\n      p->>t: 上报当前页变化\n      p->>t: 发送同步消息\n      t->>s: 发送同步消息\n    end\n  end\n\n  rect rgb(255, 255, 255)\n    c--\x3e>p: 发送媒体点击行为（图文）\n    p->>p: 判断类型，是否在本地等\n    p->>t: 获取资源是否在本地\n    t--\x3e>p: 返回结果\n    p--\x3e>p: 获取m3u8地址\n    p->>c: 获取音频位置\n    c--\x3e>p: 返回音频位置\n    p->>p: 播放媒体\n    p->>t: 发送同步消息\n    t->>s: 发送同步消息\n  end\n\n  rect rgb(255, 255, 255)\n    c->>c: 媒体或者动画等内部状态变更\n    c->>p: 发送同步消息\n    p->>t: 发送同步消息\n    t->>s: 发送同步消息\n    c->>p: 存储状态\n    p->>t: 存储状态\n    t->>s: 存储状态\n  end\n\n  rect rgb(255, 255, 255)\n  loop 定期同步\n    p->>t: 发送同步消息\n    t->>s: 发送同步消息\n  end\n  end\nend\n\nrect rgb(220, 220, 220)\n  Note right of c: 学生端逻辑\n\n  rect rgb(255, 255, 255)\n    s->>t: 接收同步消息\n    t->>p: 接收同步消息\n    p->>p: 恢复目录、当前页、媒体播放\n    p->>+c: 翻页\n    c--\x3e>-p: 页面更改\n    p->>t: 发送目录&页面更改\n  end\n\n  rect rgb(255, 255, 255)\n    t--\x3e>p: 需要恢复\n    p->>t: 获取最后同步消息\n    p--\x3e>c: 需要恢复\n    c->>p: 获取存储状态\n    p->>t: 获取存储状态\n    t->>s: 获取存储状态\n    t--\x3e>p: 返回最后同步消息\n    p->>p: 恢复目录、当前页、媒体播放\n    p--\x3e>t: 发送目录&当前页更改\n    s--\x3e>t: 返回存储状态\n    t--\x3e>p: 返回存储状态\n    p--\x3e>c: 返回存储状态\n    c->>c: 恢复当前页状态\n  end\nend\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br"),n("span",{staticClass:"line-number"},[s._v("134")]),n("br")])]),n("h2",{attrs:{id:"媒体播放流程图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#媒体播放流程图"}},[s._v("#")]),s._v(" 媒体播放流程图")]),s._v(" "),n("div",{staticClass:"language-mermaid line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("graph TD\n开始 --\x3e 加载课件组件\n--\x3e 获取媒体是否在本地\n--\x3e 发生媒体点击行为\n--\x3e a{已有媒体播放}\na --\x3e |存在| b[停止当前播放] --\x3e c\na --\x3e |不存在| c{本地资源是否存在}\nc --\x3e |存在| d[播放媒体]\nc --\x3e |不存在| g[再获取一次本地资源情况] --\x3e i{本地是否存在}\ni --\x3e |存在| d\ni --\x3e |不存在| e{是否存在m3u8地址}\ne --\x3e |存在| f[获取线上m3u8地址] --\x3ed\ne --\x3e |不存在| h[拼接mp4地址] --\x3e d\n--\x3e 每3秒同步状态\n--\x3e 结束\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("h2",{attrs:{id:"确定的技术方案"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#确定的技术方案"}},[s._v("#")]),s._v(" 确定的技术方案")]),s._v(" "),n("ol",[n("li",[s._v("隐藏页逻辑：隐藏页要有（交互游戏挂在一个页上面，将页设置为隐藏），一期把所有隐藏页当作正常页处理，二期隐藏页在上下页中不展示")]),s._v(" "),n("li",[s._v("媒体播放排他确定，媒体播放排他")]),s._v(" "),n("li",[s._v("业务标签展示的问题，结论：拿不到不是相应业务的标签（不用关心这个问题）")]),s._v(" "),n("li",[s._v("视频播放撑满，结论：撑满，H5 课件可手动切换")]),s._v(" "),n("li",[s._v("音频动效问题（比如单词）结论：使用控制条展示还是外部展示，更改默认图标，通过外部的动效（可以不考虑四个角的问题）")]),s._v(" "),n("li",[s._v("交互游戏（课件内部）可能存在学生来操作的情况，公共屏幕和私有屏幕的问题，一期，二期应该没有")]),s._v(" "),n("li",[s._v("手机竖屏处理：只有横屏，pad 也只有横屏")]),s._v(" "),n("li",[s._v("音量同步问题：各自调整，完全不用同步")]),s._v(" "),n("li",[s._v("哪些操作同步：视频播放，暂停，seek")]),s._v(" "),n("li",[s._v("视频控制条，老师端控制条使用 chrome 默认的")]),s._v(" "),n("li",[s._v("学生端怎样展示视频控制条，结论：不用展示任何控制，包括音量")]),s._v(" "),n("li",[s._v("暂时没有课件多开需求，多开由上层隔离环境即可")]),s._v(" "),n("li",[s._v("目录和当前也同步、课件的同步、媒体的同步走同一个接口")])]),s._v(" "),n("h2",{attrs:{id:"参考资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://wiki.zhiyinlou.com/pages/viewpage.action?pageId=93693902",target:"_blank",rel:"noopener noreferrer"}},[s._v("课件内 iframe 同步规范"),n("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);